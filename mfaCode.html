<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="" X-UA-Compatible " content="IE-edge ">
        <meta name="viewport " content="width=device.width, initial-scale=1.0 ">
        <title>PassSword
        </title>
        <link rel="stylesheet " type="text/css " href="mfaCode.css ">

</head>
    
<body>
      
    <div class="mfa-card" id="code">
        <h1> Multi-Factor Authentication</h1>
        <p>Verification code has been sent to </p>
        <div class="mfa-inputs">
            <input type="text" maxlength="1" autofocus>
            <input type="text" maxlength="1">
            <input type="text" maxlength="1">
            <input type="text" maxlength="1">
            <input type="text" maxlength="1">
        </div>
        <p>Didn't get the code? <a href="#">Resend</a></p>
        <button disabled onclick="window.location.href='dashboard.html'">Verify</button>
    </div>

    <script>
       const inputs=document.querySelectorAll('.mfa-inputs input');
       const button=document.querySelector('.mfa-card button');
       inputs.forEach(input =>{
        let lastInputStatus=0;
        input.onkeyup=(e)=>{
            const currentElement=e.target
            const nextElement=input.nextElementSibling
            const prevElement=input.previousElementSibling

            if(prevElement && e.keyCode===8){
                if(lastInputStatus===1){
                    prevElement.value=''
                    prevElement.focus()
                }
                button.setAttribute('disabled',true)
                lastInputStatus=1
            }else{
                const reg=/^[0-9]+$/
                if(!reg.test(currentElement.value)){
                    currentElement.value=currentElement.value.replace(/\D/g,'')

                }else if(currentElement.value){
                    if(nextElement){
                        nextElement.focus();
                    }else{
                        button.removeAttribute('disabled');
                        lastInputStatus=0;
                    }
                }
            }
        }
       })
    </script>
</body>
</html>