<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="" X-UA-Compatible " content="IE-edge ">
        <meta name="viewport " content="width=device.width, initial-scale=1.0 ">
        <title>PassSword
        </title>
        <link rel="stylesheet " type="text/css " href="addPasswordForm.css">
</head>
<body>
<div class="wrapper" id="blur">
    <div class="sidebar">
        <ul>
            <li class="logo"  style="--bg:#333;">
                <a href="#">
                    <div class="icon">
                        <img src="images/Logov2.png" width="50" height="50">
                    </div>
                   <div class="text">PassSword</div>
                </a>
            </li>
            <div class="MenuList">
                <li style="--bg:#57e5ff;"class="active">
                    <a href="dashboard.html">
                        <div class="icon"><ion-icon name="key"></ion-icon></div>
                    <div class="text">PassSwords</div>
                    </a>
                </li>
                <li style="--bg:#57e5ff;" >
                    <a href="favorites.html">
                        <div class="icon"><ion-icon name="star"></ion-icon></ion-icon></div>
                    <div class="text">Favorites</div>
                    </a>
                </li>
                <li style="--bg:#57e5ff;"class="dropdown">
                    <div class="title">
                        <a href="#">
                            <div class="icon"><ion-icon name="folder"></ion-icon></div>
                            <div class="text">Folders</div>
                            <div class="arrow"><ion-icon name="chevron-down-outline"></ion-icon></div>
                            <button class="openPopup"><ion-icon name="add-circle-outline"></ion-icon></button>
                        </a>
                    </div>
                    <div class="submenu" id="submenu">
                        <a href="#" class="submenu-title">Folders</a>
                    </div>
                    </li>
    
                <li style="--bg:#57e5ff;">
                    <a href="analytics.html">
                        <div class="icon"><ion-icon name="analytics-outline"></ion-icon></div>
                    <div class="text">Analytics</div>
                    </a>
                </li>
                <li style="--bg:#57e5ff;">
                    <a href="trash.html">
                        <div class="icon"><ion-icon name="trash"></ion-icon></div>
                    <div class="text">Trash</div>
                    </a>
                </li>
                <li style="--bg:#57e5ff;">
                    <a href="settings.html">
                        <div class="icon"><ion-icon name="settings-outline"></ion-icon></div>
                    <div class="text">Settings</div>
                    </a>
                </li>
               
            </div>
            <div class="bottom">
                <li style="--bg:#333;">
                    <a href="#">
                        <div class="icon">
                            <div class="imgBx">
                                <img src="images/check.png" width="100" heigt="100">
                            </div>
                        </div>
                        <div class="text">Iris Lung</div>
                    </a>
                </li>
                <li style="--bg:#333;">
                    <a href="mainPage.html">
                        <div class="icon"><ion-icon name="log-out-outline" ></ion-icon></div>
                    <div class="text">Logout</div>
                    </a>
                </li>
            </div>
        </ul>
    </div>
   
    <!--top bar-->
    <div class="navbar">
        <div class="MenuOptions">
        <form action="" method="get" class="search-bar">
        <input  type="text" placeholder="Search" name="Search">
        <button type="submit"><ion-icon name="search"></ion-icon></button>
        </form>

        </div>
    </div>

    <div class="passwordForm">
        <form>
        <div class="image">
            <li class="websiteLogo"  style="--bg:#333;">
                
                    <div class="icon">
                        <img src="images/biometric.png" width="50" height="50", align-items="center">
                    </div>
                
            </li>
        </div>
        <h2> Website </h2>
        <div class="inputBox">
            <input type="text" required="required">
            <label for=" ">Website Address</label>
            <i></i>
        </div>
        <h2> Login details</h2>
        <div class="inputBox">
            <input type="text" required="required">
            <label for=" ">Username or Email</label>
            <i></i>
        </div>
        <div class="inputBox">
            <div class="passwordInput">
            <input type="password" required="required" id="myPassword">
            <label for=" ">Password</label>
            <div class="show"></div>
            </div>
            <i></i>
            <div class="strengthMeter"></div>
        </div>
        <div class="generate">
            <a href="generatePassword.html"> Generate Password</a>
        </div>
        <div class="buttons">
            <button type="submit" onclick="window.location.href='dashboard.html'">Add</button>
            <button type="submit" onclick="window.location.href='dashboard.html'">Cancel</button>
        </div>
        
    </form>
    </div>
   
</div>
<div class="popup" id="popup">
    <h2> Add new folder </h2>
    <div class="closeBtn" ><ion-icon name="close-circle-outline"></ion-icon></div>
    <h3> Enter new folder name:</h3>
    <form id="addFolderForm">
        <input type="text" name="newFolderName">
        <div class="buttonC">
            <button type="submit">Add Folder</button>
        </div>
    </form>
</div>
<script type="module" src="rendererFolder.js"></script>

    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script>
        let sidebar= document.querySelector('.sidebar');
        let navbar=document.querySelector(".navbar");
        let passwordForm=document.querySelector(".passwordForm");
    
        let MenuList= document.querySelectorAll('.MenuList li');
        function activeLink(){
            MenuList.forEach((item)=> 
                item.classList.remove('active'));  
                setTimeout(() => {
        if (!this.classList.contains('dropdown')) {
        this.classList.add('active');
    }
        }, 100);
        }
        MenuList.forEach((item)=> 
        item.addEventListener('click',activeLink));
    
        let button= document.querySelectorAll('.addPassword a');
        button.forEach(btn =>{
            btn.onmousemove= function(e){
                let x= e.pageX - btn.offsetLeft;
                let y= e.pageY - btn.offsetTop;
    
                btn.style.setProperty('--x', x + 'px');
                btn.style.setProperty('--y', y + 'px');
    
            }
        })

        function Strength(password){
            let i= 0;
            if(password.length> 6){
                i++;
            }
            if(password.length>= 10){
                i++;
            }
            if(/[A-Z]/.test(password)){
                i++;
            }
            
            if(/[a-z]/.test(password)){
                i++;
            }
            if(/[0-9]/.test(password)){
                i++;
            }
            if(/[A-Za-z0-9]/.test(password)){
                i++;
            }
            return i;
        }
        let container= document.querySelector('.passwordForm');
        let meter=document.querySelector('.passwordInput');
        meter.addEventListener("keyup",function(e){
            let password=document.querySelector('#myPassword').value;
            let strength=Strength(password);
            if(strength ==0){
                container.classList.remove('weak');
                container.classList.remove('medium');
                container.classList.remove('strong');
            }
            if(strength <=2){
                container.classList.add('weak');
                container.classList.remove('medium');
                container.classList.remove('strong');
            }
            else if(strength >=2 && strength <=4){
                container.classList.remove('weak');
                container.classList.add('medium');
                container.classList.remove('strong');
            }else{
                container.classList.remove('weak');
                container.classList.remove('medium');
                container.classList.add('strong');
            }
        })
        let pass=document.querySelector('#myPassword');
        let show= document.querySelector('.show');
        show.onclick= function(){
            if(pass.type==='password'){
                pass.setAttribute('type','text');
                show.classList.add('hide');
            }else{
                pass.setAttribute('type','password');
                show.classList.remove('hide');
            }
        }

        const arrowIcon = document.querySelector('.title .arrow');
    const submenu = document.querySelector('.dropdown .submenu');
    let dropdown=document.querySelector('.dropdown');
    arrowIcon.addEventListener('click', function() {
        submenu.classList.toggle('active');
        dropdown.classList.toggle('active');
        arrowIcon.classList.toggle('flip');
    });

    const foldersIcon=document.querySelector('.dropdown .title .icon');
    const openPopup=document.querySelector('.openPopup');
    const blur = document.getElementById('blur');
    const popup = document.getElementById('popup');

    openPopup.addEventListener("click",function(){
            blur.classList.toggle('active'),
            popup.classList.toggle('active')
    });

    const closeAddFolder=document.querySelector('.popup .closeBtn');
    closeAddFolder.addEventListener('click',function(){
        popup.classList.toggle('active');
        blur.classList.toggle('active');
    })

    </script>
    </body>
    </html>